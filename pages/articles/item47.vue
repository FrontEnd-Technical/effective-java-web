<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 47: Prefer Collection to Stream as a return type'
})

import { code_block } from '~/data/item47'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Prefer Collection to Stream as a return type" (∆Øu ti√™n Collection thay v√¨ Stream l√†m ki·ªÉu tr·∫£
            v·ªÅ) c√≥ nghƒ©a l√† khi m·ªôt ph∆∞∆°ng th·ª©c <span class="code">public</span> c·∫ßn tr·∫£ v·ªÅ m·ªôt chu·ªói c√°c ph·∫ßn t·ª≠, b·∫°n
            n√™n <strong>tr·∫£ v·ªÅ m·ªôt <span class="code">Collection</span> (ho·∫∑c c√°c ki·ªÉu con c·ªßa n√≥ nh∆∞ <span
                    class="code">List</span>, <span class="code">Set</span>)</strong> thay v√¨ tr·∫£ v·ªÅ tr·ª±c ti·∫øp m·ªôt <span
                class="code">Stream</span>.
        </p><br />
        <p>
            L√Ω do ch√≠nh l√† <strong><span class="code">Collection</span> linh ho·∫°t h∆°n r·∫•t nhi·ªÅu cho ng∆∞·ªùi d√πng</strong>,
            trong khi <span class="code">Stream</span> l·∫°i c√≥ nh·ªØng h·∫°n ch·∫ø quan tr·ªçng.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <div class="pl-3">
            <BlockOpinion opinion="V·∫•n ƒë·ªÅ: H·∫°n ch·∫ø c·ªßa vi·ªác tr·∫£ v·ªÅ Stream üëé">
                <p>
                    <span class="code">Stream</span> l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ <em>x·ª≠ l√Ω</em> d·ªØ li·ªáu, nh∆∞ng l·∫°i l√† m·ªôt
                    ki·ªÉu tr·∫£ v·ªÅ r·∫•t k√©m linh ho·∫°t.
                </p><br />
                <ol class="list-decimal pl-5 mt-3 space-y-1.5">
                    <li><strong>Ch·ªâ c√≥ th·ªÉ duy·ªát m·ªôt l·∫ßn:</strong> M·ªôt <span class="code">Stream</span> ch·ªâ c√≥ th·ªÉ ƒë∆∞·ª£c
                        duy·ªát qua m·ªôt l·∫ßn duy nh·∫•t. Sau khi m·ªôt to√°n t·ª≠ k·∫øt th√∫c ƒë∆∞·ª£c g·ªçi (nh∆∞ <span
                            class="code">forEach</span> ho·∫∑c <span class="code">collect</span>), stream ƒë√≥ s·∫Ω b·ªã "ƒë√≥ng"
                        v√† kh√¥ng th·ªÉ t√°i s·ª≠ d·ª•ng.</li>
                    <li><strong>Kh√¥ng th·ªÉ d√πng trong v√≤ng l·∫∑p <span class="code">for-each</span>:</strong> B·∫°n kh√¥ng th·ªÉ
                        vi·∫øt <span class="code">for (Element e : myStream)</span> v√¨ <span class="code">Stream</span>
                        kh√¥ng implement <span class="code">Iterable</span>.</li>
                </ol><br />
                <p><strong>V√≠ d·ª• v·ªÅ API k√©m linh ho·∫°t:</strong></p><br />
                <CodeBlock :code="code_block.method1"></CodeBlock>
            </BlockOpinion>
        </div>
        <hr><br>
        <Heading1 title="Gi·∫£i ph√°p: Tr·∫£ v·ªÅ Collection ‚úÖ" />
        <p>
            <span class="code">Collection</span> l√† m·ªôt ki·ªÉu tr·∫£ v·ªÅ t·ªët h∆°n h·∫≥n v√¨ n√≥ cung c·∫•p cho ng∆∞·ªùi d√πng c·∫£ hai l·ª±a
            ch·ªçn.
        </p><br />
        <ul class="list-disc pl-5 mt-3 space-y-1.5">
            <li><strong>L√† m·ªôt <span class="code">Iterable</span>:</strong> Ng∆∞·ªùi d√πng c√≥ th·ªÉ tr·ª±c ti·∫øp duy·ªát qua n√≥
                b·∫±ng v√≤ng l·∫∑p <span class="code">for-each</span> bao nhi√™u l·∫ßn t√πy th√≠ch.</li>
            <li><strong>D·ªÖ d√†ng t·∫°o <span class="code">Stream</span>:</strong> Ng∆∞·ªùi d√πng c√≥ th·ªÉ g·ªçi ph∆∞∆°ng th·ª©c <span
                    class="code">.stream()</span> b·∫•t c·ª© khi n√†o h·ªç mu·ªën x·ª≠ l√Ω d·ªØ li·ªáu theo ki·ªÉu h√†m.</li>
        </ul><br />

        <p><strong>C√°ch l√†m t·ªët nh·∫•t:</strong></p><br />
        <CodeBlock :code="code_block.method2"></CodeBlock>
        <div class="pl-3">
            <BlockOpinion opinion="Khi n√†o th√¨ tr·∫£ v·ªÅ M·∫£ng?">
                <p>
                    M·∫∑c d√π nguy√™n t·∫Øc chung l√† ∆∞u ti√™n <span class="code">Collection</span>, nh∆∞ng n·∫øu chu·ªói tr·∫£ v·ªÅ c√≥
                    k√≠ch th∆∞·ªõc nh·ªè v√† hi·ªáu nƒÉng l√† y·∫øu t·ªë c·ª±c k·ª≥ quan tr·ªçng, vi·ªác tr·∫£ v·ªÅ m·ªôt m·∫£ng c√≥ th·ªÉ nhanh h∆°n m·ªôt
                    ch√∫t. Tuy nhi√™n, trong h·∫ßu h·∫øt c√°c API, s·ª± linh ho·∫°t c·ªßa <span class="code">Collection</span> v·∫´n
                    ƒë∆∞·ª£c ∆∞u ti√™n h∆°n.
                </p><br />
            </BlockOpinion>
        </div><br>
        <p>
            <strong>K·∫øt lu·∫≠n:</strong> <strong>ƒê·ªëi v·ªõi c√°c ph∆∞∆°ng th·ª©c <span class="code">public</span></strong>, h√£y
            lu√¥n tr·∫£ v·ªÅ m·ªôt <span class="code">Collection</span> (ho·∫∑c c√°c ki·ªÉu con nh∆∞ <span class="code">List</span>,
            <span class="code">Set</span>) ƒë·ªÉ cung c·∫•p cho ng∆∞·ªùi d√πng s·ª± linh ho·∫°t t·ªëi ƒëa. H√£y ƒë·ªÉ ng∆∞·ªùi d√πng quy·∫øt ƒë·ªãnh
            khi n√†o h·ªç mu·ªën duy·ªát qua d·ªØ li·ªáu v√† khi n√†o h·ªç mu·ªën x·ª≠ l√Ω n√≥ b·∫±ng <span class="code">Stream</span>.
        </p><br />
    </div>
</template>
<style scoped></style>