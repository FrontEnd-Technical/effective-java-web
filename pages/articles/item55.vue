<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 55: Return optionals judiciously'
})

import { code_block } from '~/data/item55'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Return optionals judiciously" (S·ª≠ d·ª•ng Optional l√†m ki·ªÉu tr·∫£ v·ªÅ m·ªôt c√°ch th·∫≠n tr·ªçng) c√≥ nghƒ©a l√†
            b·∫°n n√™n <strong>s·ª≠ d·ª•ng <span class="code">Optional&lt;T&gt;</span> nh∆∞ m·ªôt ki·ªÉu tr·∫£ v·ªÅ</strong> cho c√°c
            ph∆∞∆°ng th·ª©c m√† trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p c√≥ th·ªÉ kh√¥ng c√≥ gi√° tr·ªã n√†o ƒë·ªÉ tr·∫£ v·ªÅ, nh∆∞ng <strong>tr√°nh l·∫°m d·ª•ng
                n√≥</strong> trong c√°c ng·ªØ c·∫£nh kh√°c.
        </p><br />
        <p>
            <span class="code">Optional</span> l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ thi·∫øt k·∫ø c√°c API r√µ r√†ng h∆°n v√† ngƒÉn ch·∫∑n l·ªói
            <span class="code">NullPointerException</span>, nh∆∞ng n√≥ kh√¥ng ph·∫£i l√† gi·∫£i ph√°p thay th·∫ø cho m·ªçi tr∆∞·ªùng h·ª£p
            d√πng <span class="code">null</span>.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <p>
            <span class="code">Optional&lt;T&gt;</span> l√† m·ªôt ƒë·ªëi t∆∞·ª£ng container b·∫•t bi·∫øn, c√≥ th·ªÉ ch·ª©a ho·∫∑c kh√¥ng ch·ª©a
            m·ªôt gi√° tr·ªã <span class="code">T</span> kh√°c <span class="code">null</span>. N√≥ cung c·∫•p m·ªôt c√°ch r√µ r√†ng ƒë·ªÉ
            bi·ªÉu di·ªÖn s·ª± v·∫Øng m·∫∑t c·ªßa m·ªôt gi√° tr·ªã.
        </p><br />
        <div class="pl-3">
            <BlockOpinion opinion="L·ª£i √≠ch: M·ªôt s·ª± thay th·∫ø t·ªët h∆°n cho null l√†m ki·ªÉu tr·∫£ v·ªÅ üëç">
                <p>
                    Tr∆∞·ªõc <span class="code">Optional</span>, m·ªôt ph∆∞∆°ng th·ª©c kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ th∆∞·ªùng ph·∫£i tr·∫£ v·ªÅ
                    <span class="code">null</span> ho·∫∑c n√©m ra m·ªôt ngo·∫°i l·ªá. <span class="code">Optional</span> cung c·∫•p
                    m·ªôt gi·∫£i ph√°p th·ª© ba, bu·ªôc ng∆∞·ªùi d√πng API ph·∫£i ch·ªß ƒë·ªông suy nghƒ© v·ªÅ tr∆∞·ªùng h·ª£p kh√¥ng c√≥ gi√° tr·ªã tr·∫£
                    v·ªÅ.
                </p><br />
                <p><strong>V√≠ d·ª• kinh ƒëi·ªÉn: T√¨m ph·∫ßn t·ª≠ l·ªõn nh·∫•t trong collection</strong></p>
                <CodeBlock :code="code_block.method1"></CodeBlock>
            </BlockOpinion>
        </div>
        <hr><br>
        <Heading1 title="Khi n√†o th√¨ KH√îNG n√™n d√πng Optional? üëé" />
        <p>Vi·ªác l·∫°m d·ª•ng <span class="code">Optional</span> c√≥ th·ªÉ l√†m cho m√£ ngu·ªìn tr·ªü n√™n c·ªìng k·ªÅnh v√† ph·ª©c t·∫°p m·ªôt
            c√°ch kh√¥ng c·∫ßn thi·∫øt.</p><br />
        <div class="pl-3">
            <BlockOpinion opinion="1. Kh√¥ng bao gi·ªù tr·∫£ v·ªÅ Optional c·ªßa Collection ho·∫∑c M·∫£ng">
                <p>
                    Tr·∫£ v·ªÅ m·ªôt <span class="code">Optional&lt;List&lt;T&gt;&gt;</span> l√† m·ªôt s·ª± ph·ª©c t·∫°p kh√¥ng c·∫ßn
                    thi·∫øt. Theo nguy√™n t·∫Øc "Return empty collections or arrays, not nulls", b·∫°n n√™n <strong>lu√¥n tr·∫£ v·ªÅ
                        m·ªôt <span class="code">List</span> r·ªóng</strong> thay th·∫ø.
                </p>
                <CodeBlock :code="code_block.method2"></CodeBlock>
            </BlockOpinion>
            <BlockOpinion opinion="2. Kh√¥ng bao gi·ªù d√πng Optional l√†m tham s·ªë ph∆∞∆°ng th·ª©c ho·∫∑c tr∆∞·ªùng">
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li><strong>Tham s·ªë ph∆∞∆°ng th·ª©c:</strong> N·∫øu b·∫°n mu·ªën m·ªôt tham s·ªë l√† t√πy ch·ªçn, h√£y s·ª≠ d·ª•ng
                        <strong>n·∫°p ch·ªìng (overloading)</strong>.
                    </li>
                    <li><strong>Tr∆∞·ªùng c·ªßa l·ªõp:</strong> M·ªôt tr∆∞·ªùng <span class="code">Optional&lt;T&gt;</span> g·∫ßn nh∆∞
                        lu√¥n l√† m·ªôt d·∫•u hi·ªáu x·∫•u. N√≥ l√†m cho l·ªõp c·ªßa b·∫°n c√≥ th√™m m·ªôt l·ªõp bao b·ªçc kh√¥ng c·∫ßn thi·∫øt.</li>
                </ul>
            </BlockOpinion>
            <BlockOpinion opinion="3. Kh√¥ng d√πng Optional cho c√°c ki·ªÉu boxing">
                <p>
                    ƒê·ª´ng bao gi·ªù d√πng <span class="code">Optional&lt;Integer&gt;</span>, <span
                        class="code">Optional&lt;Long&gt;</span>, <span class="code">Optional&lt;Double&gt;</span>. Thay
                    v√†o ƒë√≥, h√£y s·ª≠ d·ª•ng c√°c phi√™n b·∫£n <span class="code">Optional</span> chuy√™n d·ª•ng cho ki·ªÉu nguy√™n
                    th·ªßy ƒë·ªÉ tr√°nh chi ph√≠ boxing: <span class="code">OptionalInt</span>, <span
                        class="code">OptionalLong</span>, <span class="code">OptionalDouble</span>.
                </p><br />
            </BlockOpinion>
        </div><br>
        <p>
            <strong>K·∫øt lu·∫≠n:</strong> H√£y coi <span class="code">Optional&lt;T&gt;</span> l√† m·ªôt c√¥ng c·ª• c√≥ m·ª•c ƒë√≠ch
            r·∫•t c·ª• th·ªÉ: <strong>d√πng l√†m ki·ªÉu tr·∫£ v·ªÅ cho c√°c ph∆∞∆°ng th·ª©c c√≥ th·ªÉ kh√¥ng t√¨m th·∫•y gi√° tr·ªã ƒë·ªÉ tr·∫£
                v·ªÅ</strong>. Vi·ªác s·ª≠ d·ª•ng n√≥ m·ªôt c√°ch c√≥ ch·ªçn l·ªçc s·∫Ω gi√∫p b·∫°n thi·∫øt k·∫ø c√°c API r√µ r√†ng v√† an to√†n h∆°n.
            ƒê·ª´ng c·ªë g·∫Øng s·ª≠ d·ª•ng n√≥ nh∆∞ m·ªôt s·ª± thay th·∫ø to√†n nƒÉng cho <span class="code">null</span>.
        </p><br />
    </div>
</template>
<style scoped></style>