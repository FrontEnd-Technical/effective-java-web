<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 45: Use streams judiciously'
})

import { code_block } from '~/data/item45'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Use streams judiciously" (S·ª≠ d·ª•ng stream m·ªôt c√°ch th·∫≠n tr·ªçng) c√≥ nghƒ©a l√† b·∫°n n√™n <strong>t·∫≠n
                d·ª•ng s·ª©c m·∫°nh c·ªßa Stream API</strong> ƒë·ªÉ x·ª≠ l√Ω c√°c chu·ªói d·ªØ li·ªáu m·ªôt c√°ch r√µ r√†ng v√† ng·∫Øn g·ªçn, nh∆∞ng
            c≈©ng c·∫ßn <strong>nh·∫≠n bi·∫øt c√°c tr∆∞·ªùng h·ª£p m√† v√≤ng l·∫∑p <span class="code">for</span> truy·ªÅn th·ªëng l·∫°i l√† l·ª±a
                ch·ªçn t·ªët h∆°n</strong>.
        </p><br />
        <p>
            Stream gi√∫p m√£ ngu·ªìn tr·ªü n√™n <strong>bi·ªÉu c·∫£m v√† d·ªÖ ƒë·ªçc h∆°n khi ƒë∆∞·ª£c d√πng ƒë√∫ng c√°ch</strong>, nh∆∞ng l·∫°m d·ª•ng
            ch√∫ng cho c√°c t√°c v·ª• ph·ª©c t·∫°p c√≥ th·ªÉ l√†m m√£ ngu·ªìn tr·ªü n√™n kh√≥ hi·ªÉu v√† kh√≥ debug h∆°n.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <p>
            Stream API, ƒë∆∞·ª£c gi·ªõi thi·ªáu t·ª´ Java 8, cung c·∫•p m·ªôt c√°ch ti·∫øp c·∫≠n m·ªõi, mang t√≠nh khai b√°o (declarative) ƒë·ªÉ
            x·ª≠ l√Ω c√°c chu·ªói ph·∫ßn t·ª≠.
        </p><br />
        <div class="pl-3">
            <BlockOpinion opinion="L·ª£i √≠ch c·ªßa Stream API üëç">
                <p>
                    Stream r·∫•t xu·∫•t s·∫Øc trong vi·ªác bi·∫øn c√°c ƒëo·∫°n m√£ x·ª≠ l√Ω d·ªØ li·ªáu ph·ª©c t·∫°p, l·∫∑p ƒëi l·∫∑p l·∫°i th√†nh m·ªôt
                    chu·ªói c√°c thao t√°c (pipeline) ng·∫Øn g·ªçn v√† d·ªÖ hi·ªÉu.
                </p><br />
                <p><strong>V√≠ d·ª• kinh ƒëi·ªÉn: ƒê·ªçc m·ªôt file v√† ƒë·∫øm c√°c nh√≥m anagram</strong></p><br />
                <p><strong>‚ùå C√°ch l√†m c≈© (d√πng v√≤ng l·∫∑p):</strong></p><br />
                <CodeBlock :code="code_block.method1"></CodeBlock>
                <p><strong>‚úÖ C√°ch l√†m t·ªët nh·∫•t v·ªõi Stream:</strong></p><br />


                <img src="/assets/img/licensed-image.jfif" alt="Data processing pipeline" class="my-4 rounded shadow" />

                <CodeBlock :code="code_block.method2"></CodeBlock>
                <p>
                    Phi√™n b·∫£n Stream lo·∫°i b·ªè ho√†n to√†n c√°c bi·∫øn t·∫°m v√† v√≤ng l·∫∑p, m√¥ t·∫£ tr·ª±c ti·∫øp lu·ªìng x·ª≠ l√Ω d·ªØ li·ªáu:
                    ƒë·ªçc c√°c d√≤ng, nh√≥m ch√∫ng l·∫°i, l·ªçc c√°c nh√≥m, v√† in k·∫øt qu·∫£.
                </p><br />
            </BlockOpinion>
        </div>
        <hr><br>
        <Heading1 title="Khi n√†o th√¨ kh√¥ng n√™n d√πng Stream? üëé" />
        <p>Stream kh√¥ng ph·∫£i l√† m·ªôt gi·∫£i ph√°p to√†n nƒÉng. C√≥ nh·ªØng tr∆∞·ªùng h·ª£p v√≤ng l·∫∑p <span class="code">for</span> l·∫°i
            l√† l·ª±a ch·ªçn t·ªët h∆°n.</p><br />
        <ol class="list-decimal pl-5 mt-3 space-y-1.5">
            <li><strong>Khi logic qu√° ph·ª©c t·∫°p:</strong> N·∫øu trong m·ªôt v√≤ng l·∫∑p b·∫°n c·∫ßn truy c·∫≠p ho·∫∑c thay ƒë·ªïi nhi·ªÅu
                bi·∫øn c·ª•c b·ªô, ho·∫∑c s·ª≠ d·ª•ng c√°c c√¢u l·ªánh ƒëi·ªÅu khi·ªÉn lu·ªìng nh∆∞ <span class="code">break</span>, <span
                    class="code">continue</span>, <span class="code">return</span>, vi·ªác chuy·ªÉn sang Stream s·∫Ω l√†m m√£
                ngu·ªìn tr·ªü n√™n r·∫•t kh√≥ ƒë·ªçc.</li>
            <li><strong>Khi c·∫ßn g·ª° l·ªói (debug):</strong> Vi·ªác debug m·ªôt chu·ªói Stream ph·ª©c t·∫°p kh√≥ h∆°n nhi·ªÅu so v·ªõi vi·ªác
                ƒë·∫∑t breakpoint v√† ki·ªÉm tra c√°c bi·∫øn trong m·ªôt v√≤ng l·∫∑p <span class="code">for</span> th√¥ng th∆∞·ªùng.</li>
            <li><strong>Khi c·∫ßn hi·ªáu nƒÉng cao cho c√°c t√°c v·ª• ƒë∆°n gi·∫£n:</strong> ƒê·ªëi v·ªõi c√°c v√≤ng l·∫∑p c·ª±c k·ª≥ ƒë∆°n gi·∫£n
                tr√™n c√°c ki·ªÉu nguy√™n th·ªßy, m·ªôt v√≤ng l·∫∑p <span class="code">for</span> truy·ªÅn th·ªëng c√≥ th·ªÉ nhanh h∆°n m·ªôt
                ch√∫t do √≠t overhead h∆°n.</li>
        </ol><br />
        <div class="pl-3">
            <BlockOpinion opinion="Best Practices T√≥m t·∫Øt">
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li><strong>∆Øu ti√™n Stream cho c√°c chu·ªói x·ª≠ l√Ω:</strong> S·ª≠ d·ª•ng Stream khi b·∫°n c·∫ßn th·ª±c hi·ªán m·ªôt
                        chu·ªói c√°c thao t√°c (l·ªçc, √°nh x·∫°, nh√≥m, v.v.) tr√™n m·ªôt t·∫≠p h·ª£p d·ªØ li·ªáu.</li>
                    <li><strong>Gi·ªØ cho Lambda ƒë∆°n gi·∫£n:</strong> C√°c bi·ªÉu th·ª©c lambda b√™n trong Stream n√™n ng·∫Øn g·ªçn v√†
                        kh√¥ng c√≥ hi·ªáu ·ª©ng ph·ª• (side-effect).</li>
                    <li><strong>Tr√°nh l·∫°m d·ª•ng:</strong> N·∫øu vi·ªác chuy·ªÉn sang Stream l√†m cho m√£ ngu·ªìn c·ªßa b·∫°n tr·ªü n√™n
                        d√†i h∆°n ho·∫∑c kh√≥ hi·ªÉu h∆°n, h√£y c·ª© d√πng v√≤ng l·∫∑p <span class="code">for</span>. <strong>S·ª± r√µ
                            r√†ng l√† quan tr·ªçng nh·∫•t.</strong></li>
                    <li><strong>K·∫øt h·ª£p c·∫£ hai:</strong> B·∫°n ho√†n to√†n c√≥ th·ªÉ s·ª≠ d·ª•ng Stream ƒë·ªÉ x·ª≠ l√Ω m·ªôt ph·∫ßn d·ªØ li·ªáu
                        v√† sau ƒë√≥ d√πng v√≤ng l·∫∑p <span class="code">forEach</span> ƒë·ªÉ x·ª≠ l√Ω k·∫øt qu·∫£ cu·ªëi c√πng.</li>
                </ul>
            </BlockOpinion>
        </div><br>
        <p>
            <strong>K·∫øt lu·∫≠n:</strong> ‚öñÔ∏è Stream l√† m·ªôt c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω trong b·ªô c√¥ng c·ª• c·ªßa l·∫≠p tr√¨nh vi√™n Java.
            H√£y <strong>s·ª≠ d·ª•ng ch√∫ng ƒë·ªÉ l√†m cho m√£ x·ª≠ l√Ω d·ªØ li·ªáu tr·ªü n√™n s·∫°ch s·∫Ω v√† bi·ªÉu c·∫£m h∆°n</strong>. Tuy nhi√™n,
            ƒë·ª´ng c·ªë √©p bu·ªôc m·ªçi th·ª© ph·∫£i d√πng Stream. H√£y lu√¥n ch·ªçn c√¥ng c·ª• ph√π h·ª£p nh·∫•t cho t·ª´ng c√¥ng vi·ªác, v√† ƒë√¥i khi,
            c√¥ng c·ª• ƒë√≥ ch√≠nh l√† v√≤ng l·∫∑p <span class="code">for</span> ƒë∆°n gi·∫£n.
        </p><br />
    </div>
</template>
<style scoped></style>