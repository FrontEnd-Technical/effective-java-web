<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 83: Use lazy initialization judiciously'
})

import { code_block } from '~/data/item83'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Use lazy initialization judiciously" (S·ª≠ d·ª•ng kh·ªüi t·∫°o l∆∞·ªùi bi·∫øng m·ªôt c√°ch th·∫≠n tr·ªçng) c√≥ nghƒ©a
            l√† b·∫°n n√™n <strong>h·∫°n ch·∫ø vi·ªác tr√¨ ho√£n kh·ªüi t·∫°o m·ªôt tr∆∞·ªùng</strong> cho ƒë·∫øn khi n√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng l·∫ßn ƒë·∫ßu
            ti√™n.
        </p><br />
        <p>
            ƒê·ªëi v·ªõi h·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p, <strong>kh·ªüi t·∫°o th√¥ng th∆∞·ªùng (eager initialization) l√† l·ª±a ch·ªçn t·ªët
                h∆°n</strong>: ƒë∆°n gi·∫£n h∆°n, r√µ r√†ng h∆°n v√† th∆∞·ªùng kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu nƒÉng.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <p>
            Kh·ªüi t·∫°o l∆∞·ªùi bi·∫øng (lazy initialization) l√† m·ªôt k·ªπ thu·∫≠t t·ªëi ∆∞u h√≥a, trong ƒë√≥ vi·ªác kh·ªüi t·∫°o m·ªôt tr∆∞·ªùng ƒë∆∞·ª£c
            tr√¨ ho√£n cho ƒë·∫øn khi c√≥ m·ªôt ph∆∞∆°ng th·ª©c truy c·∫≠p v√†o n√≥ l·∫ßn ƒë·∫ßu ti√™n.
        </p><br />
        <div class="pl-3">
            <BlockOpinion opinion="V·∫•n ƒë·ªÅ: C√°i gi√° ph·∫£i tr·∫£ c·ªßa Lazy Initialization üëé">
                <p>M·∫∑c d√π nghe c√≥ v·∫ª hi·ªáu qu·∫£, lazy initialization l·∫°i l√† m·ªôt con dao hai l∆∞·ª°i:</p><br />
                <ol class="list-decimal pl-5 mt-3 space-y-1.5">
                    <li><strong>L√†m ph·ª©c t·∫°p h√≥a m√£ ngu·ªìn:</strong> N√≥ ƒë√≤i h·ªèi logic ki·ªÉm tra <span class="code">if
                            (field == null)</span> trong ph∆∞∆°ng th·ª©c truy c·∫≠p.</li>
                    <li><strong>Trong m√¥i tr∆∞·ªùng ƒëa lu·ªìng:</strong> Vi·ªác tri·ªÉn khai lazy initialization m·ªôt c√°ch an to√†n
                        (thread-safe) r·∫•t ph·ª©c t·∫°p v√† c√≥ th·ªÉ l√†m gi·∫£m hi·ªáu nƒÉng.</li>
                    <li><strong>Th∆∞·ªùng kh√¥ng c·∫ßn thi·∫øt:</strong> Chi ph√≠ kh·ªüi t·∫°o m·ªôt tr∆∞·ªùng th∆∞·ªùng r·∫•t nh·ªè v√† c√≥ th·ªÉ
                        ƒë∆∞·ª£c th·ª±c hi·ªán ngay m√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë√°ng k·ªÉ ƒë·∫øn th·ªùi gian kh·ªüi ƒë·ªông.</li>
                </ol><br />
                <p><strong>So s√°nh hai c√°ch ti·∫øp c·∫≠n:</strong></p>
                <CodeBlock :code="code_block.method1"></CodeBlock>
                <CodeBlock :code="code_block.method2"></CodeBlock>
            </BlockOpinion>
        </div>
        <hr><br>
        <Heading1 title="·ª®ng d·ª•ng v√† Best Practices" />
        <p>Quy t·∫Øc v√†ng l√†: <strong>"Tr·ª´ khi b·∫°n c√≥ l√Ω do ch√≠nh ƒë√°ng, h√£y c·ª© kh·ªüi t·∫°o c√°c tr∆∞·ªùng m·ªôt c√°ch b√¨nh
                th∆∞·ªùng."</strong></p><br />
        <div class="pl-3">
            <BlockOpinion opinion="Khi n√†o th√¨ Lazy Initialization th·ª±c s·ª± H·ªØu √≠ch? ‚úÖ">
                <p>
                    Ch·ªâ c√≥ m·ªôt v√†i t√¨nh hu·ªëng m√† l·ª£i √≠ch c·ªßa lazy initialization v∆∞·ª£t qua ƒë∆∞·ª£c s·ª± ph·ª©c t·∫°p c·ªßa n√≥:
                </p><br />

                <ol class="list-decimal pl-5 mt-3 space-y-1.5">
                    <li><strong>Khi m·ªôt tr∆∞·ªùng r·∫•t t·ªën k√©m ƒë·ªÉ kh·ªüi t·∫°o V√Ä kh√¥ng ph·∫£i l√∫c n√†o c≈©ng c·∫ßn ƒë·∫øn:</strong> N·∫øu
                        vi·ªác kh·ªüi t·∫°o m·ªôt tr∆∞·ªùng ƒë√≤i h·ªèi nhi·ªÅu t√†i nguy√™n (v√≠ d·ª•: k·∫øt n·ªëi ƒë·∫øn m·ªôt d·ªãch v·ª• ngo√†i) v√†
                        tr∆∞·ªùng ƒë√≥ ch·ªâ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong m·ªôt s·ªë √≠t tr∆∞·ªùng h·ª£p.</li>
                    <li><strong>ƒê·ªÉ ph√° v·ª° v√≤ng l·∫∑p kh·ªüi t·∫°o (initialization circularity):</strong> Khi vi·ªác kh·ªüi t·∫°o c·ªßa
                        l·ªõp A ph·ª• thu·ªôc v√†o l·ªõp B v√† ng∆∞·ª£c l·∫°i.</li>
                </ol><br />
                <p><strong>V√≠ d·ª•:</strong></p>
                <CodeBlock :code="code_block.method3"></CodeBlock>
            </BlockOpinion>
        </div><br>
        <p>
            <strong>K·∫øt lu·∫≠n:</strong> <strong>Kh·ªüi t·∫°o th√¥ng th∆∞·ªùng (eager initialization) n√™n l√† l·ª±a ch·ªçn m·∫∑c ƒë·ªãnh
                c·ªßa b·∫°n</strong>. N√≥ ƒë∆°n gi·∫£n, s·∫°ch s·∫Ω v√† hi·ªáu qu·∫£. Ch·ªâ s·ª≠ d·ª•ng kh·ªüi t·∫°o l∆∞·ªùi bi·∫øng (lazy
            initialization) khi b·∫°n c√≥ m·ªôt tr∆∞·ªùng <strong>th·ª±c s·ª± t·ªën k√©m</strong> ƒë·ªÉ kh·ªüi t·∫°o v√† b·∫°n c√≥ <strong>d·ªØ li·ªáu
                ƒëo l∆∞·ªùng</strong> cho th·∫•y r·∫±ng vi·ªác tr√¨ ho√£n kh·ªüi t·∫°o ƒë√≥ s·∫Ω mang l·∫°i m·ªôt l·ª£i √≠ch hi·ªáu nƒÉng ƒë√°ng k·ªÉ.
        </p><br />
    </div>
</template>
<style scoped></style>