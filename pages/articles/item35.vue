<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 35: Use instance fields instead of ordinals'
})

import { code_block } from '~/data/item35'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Use instance fields instead of ordinals" (D√πng c√°c tr∆∞·ªùng c·ªßa th·ª±c th·ªÉ thay v√¨ th·ª© t·ª±) c√≥ nghƒ©a
            l√† b·∫°n <strong>kh√¥ng bao gi·ªù n√™n l·∫•y d·ªØ li·ªáu t·ª´ th·ª© t·ª± (ordinal)</strong> c·ªßa m·ªôt h·∫±ng s·ªë <span
                class="code">enum</span>. Thay v√†o ƒë√≥, h√£y <strong>l∆∞u tr·ªØ d·ªØ li·ªáu ƒë√≥ tr·ª±c ti·∫øp v√†o c√°c tr∆∞·ªùng (instance
                fields)</strong> c·ªßa <span class="code">enum</span>.
        </p><br />
        <p>
            Vi·ªác ph·ª• thu·ªôc v√†o <span class="code">ordinal()</span> l√† m·ªôt th·ª±c h√†nh t·ªìi, l√†m cho m√£ ngu·ªìn tr·ªü n√™n
            <strong>mong manh, kh√≥ b·∫£o tr√¨ v√† d·ªÖ g√¢y l·ªói</strong>.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <div class="pl-3">
            <BlockOpinion opinion="V·∫•n ƒë·ªÅ: S·ª± nguy hi·ªÉm c·ªßa ordinal() üëé">
                <p>
                    M·ªói h·∫±ng s·ªë trong m·ªôt <span class="code">enum</span> c√≥ m·ªôt th·ª© t·ª± (ordinal) d·ª±a tr√™n v·ªã tr√≠ khai
                    b√°o c·ªßa n√≥ (b·∫Øt ƒë·∫ßu t·ª´ 0). Ph∆∞∆°ng th·ª©c <span class="code">ordinal()</span> tr·∫£ v·ªÅ con s·ªë n√†y.
                </p><br />
                <p>
                    V·∫•n ƒë·ªÅ c·ªët l√µi l√† <strong>th·ª© t·ª± n√†y c·ª±c k·ª≥ kh√¥ng ·ªïn ƒë·ªãnh</strong>. N·∫øu b·∫°n thay ƒë·ªïi th·ª© t·ª± c√°c h·∫±ng
                    s·ªë, th√™m m·ªôt h·∫±ng s·ªë m·ªõi v√†o gi·ªØa, ho·∫∑c x√≥a m·ªôt h·∫±ng s·ªë, gi√° tr·ªã <span class="code">ordinal()</span>
                    c·ªßa c√°c h·∫±ng s·ªë kh√°c s·∫Ω thay ƒë·ªïi, l√†m ph√° v·ª° ho√†n to√†n logic c·ªßa ch∆∞∆°ng tr√¨nh.
                </p><br />
                <p><strong>V√≠ d·ª• v·ªÅ c√°ch l√†m sai:</strong></p>
                <CodeBlock :code="code_block.method1"></CodeBlock>
                <p><strong>T·∫°i sao l·∫°i nguy hi·ªÉm?</strong></p>
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li>N·∫øu b·∫°n quy·∫øt ƒë·ªãnh th√™m m·ªôt h·∫±ng s·ªë m·ªõi cho m·ªôt ngh·ªá sƒ© solo ch∆°i hai nh·∫°c c·ª•: <span
                            class="code">SOLO_WITH_TWO_INSTRUMENTS</span>.</li>
                    <li>V√† b·∫°n ch√®n n√≥ v√†o sau <span class="code">SOLO</span>.</li>
                    <li>Ngay l·∫≠p t·ª©c, <span class="code">DUET.numberOfMusicians()</span> s·∫Ω tr·∫£ v·ªÅ <span
                            class="code">3</span> thay v√¨ <span class="code">2</span>, v√† t·∫•t c·∫£ c√°c h·∫±ng s·ªë sau ƒë√≥ c≈©ng
                        s·∫Ω sai. ƒê√¢y l√† m·ªôt l·ªói logic r·∫•t kh√≥ t√¨m.</li>
                </ul>
            </BlockOpinion>
        </div><br>
        <hr><br>
        <Heading1 title="Gi·∫£i ph√°p: S·ª≠ d·ª•ng Instance Fields ‚úÖ" />
        <p>
            C√°ch l√†m ƒë√∫ng l√† l∆∞u tr·ªØ d·ªØ li·ªáu m√† b·∫°n c·∫ßn tr·ª±c ti·∫øp v√†o m·ªôt tr∆∞·ªùng c·ªßa <span class="code">enum</span> v√†
            kh·ªüi t·∫°o n√≥ trong constructor.
        </p><br />

        <p><strong>C√°ch l√†m t·ªët nh·∫•t:</strong></p><br />
        <CodeBlock :code="code_block.method2"></CodeBlock>
        <div class="pl-3">
            <BlockOpinion opinion="L·ª£i √≠ch v∆∞·ª£t tr·ªôi:">
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li><strong>M·∫°nh m·∫Ω v√† An to√†n:</strong> B√¢y gi·ªù, gi√° tr·ªã tr·∫£ v·ªÅ ƒë∆∞·ª£c g·∫Øn ch·∫∑t v·ªõi h·∫±ng s·ªë, kh√¥ng
                        ph·∫£i v·ªã tr√≠ c·ªßa n√≥. B·∫°n c√≥ th·ªÉ t·ª± do s·∫Øp x·∫øp l·∫°i, th√™m ho·∫∑c x√≥a c√°c h·∫±ng s·ªë m√† kh√¥ng s·ª£ l√†m h·ªèng
                        logic.</li>
                    <li><strong>Linh ho·∫°t:</strong> B·∫°n c√≥ th·ªÉ c√≥ nhi·ªÅu h·∫±ng s·ªë c√πng chia s·∫ª m·ªôt gi√° tr·ªã tr∆∞·ªùng, ƒëi·ªÅu m√†
                        <span class="code">ordinal()</span> kh√¥ng th·ªÉ l√†m ƒë∆∞·ª£c.
                    </li>
                    <li><strong>D·ªÖ ƒë·ªçc v√† d·ªÖ hi·ªÉu:</strong> M√£ ngu·ªìn tr·ªü n√™n r√µ r√†ng h∆°n. Nh√¨n v√†o <span
                            class="code">SOLO(1)</span>, b·∫°n bi·∫øt ngay gi√° tr·ªã c·ªßa n√≥ l√† 1.</li>
                </ul>
            </BlockOpinion>
        </div><br>
        <p>
            <strong>K·∫øt lu·∫≠n:</strong> H√£y coi ph∆∞∆°ng th·ª©c <span class="code">ordinal()</span> nh∆∞ l√† m·ªôt chi ti·∫øt
            tri·ªÉn khai n·ªôi b·ªô c·ªßa <span class="code">EnumSet</span> v√† <span class="code">EnumMap</span>. <strong>Kh√¥ng
                bao gi·ªù s·ª≠ d·ª•ng <span class="code">ordinal()</span> trong m√£ ngu·ªìn c·ªßa b·∫°n.</strong> Thay v√†o ƒë√≥, h√£y
            lu√¥n s·ª≠ d·ª•ng c√°c <strong>tr∆∞·ªùng c·ªßa th·ª±c th·ªÉ (instance fields)</strong> ƒë·ªÉ li√™n k·∫øt d·ªØ li·ªáu v·ªõi c√°c h·∫±ng s·ªë
            <span class="code">enum</span>.
        </p><br />
    </div>
</template>
<style scoped></style>