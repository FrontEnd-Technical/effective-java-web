<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 60: Avoid float and double if exact answers are required'
})

import { code_block } from '~/data/item60'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Avoid float and double if exact answers are required" (Tr√°nh d√πng float v√† double n·∫øu c·∫ßn c√¢u
            tr·∫£ l·ªùi ch√≠nh x√°c) c√≥ nghƒ©a l√† b·∫°n <strong>kh√¥ng bao gi·ªù n√™n s·ª≠ d·ª•ng c√°c ki·ªÉu <span
                    class="code">float</span> ho·∫∑c <span class="code">double</span> cho c√°c ph√©p t√≠nh ƒë√≤i h·ªèi s·ª± ch√≠nh
                x√°c tuy·ªát ƒë·ªëi</strong>, ƒë·∫∑c bi·ªát l√† c√°c ph√©p t√≠nh li√™n quan ƒë·∫øn <strong>ti·ªÅn t·ªá</strong>.
        </p><br />
        <p>
            Thay v√†o ƒë√≥, h√£y s·ª≠ d·ª•ng <strong><span class="code">BigDecimal</span></strong> ƒë·ªÉ ƒë·∫£m b·∫£o k·∫øt qu·∫£ t√≠nh to√°n
            th·∫≠p ph√¢n lu√¥n ch√≠nh x√°c.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <p>
            C√°c ki·ªÉu <span class="code">float</span> v√† <span class="code">double</span> ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ph√©p t√≠nh
            khoa h·ªçc v√† k·ªπ thu·∫≠t. Ch√∫ng bi·ªÉu di·ªÖn s·ªë d∆∞·ªõi d·∫°ng d·∫•u ph·∫©y ƒë·ªông nh·ªã ph√¢n, ƒëi·ªÅu n√†y c√≥ nghƒ©a l√† ch√∫ng
            <strong>kh√¥ng th·ªÉ bi·ªÉu di·ªÖn ch√≠nh x√°c c√°c gi√° tr·ªã th·∫≠p ph√¢n ph·ªï bi·∫øn</strong> nh∆∞ <span
                class="code">0.1</span>.
        </p><br />
        <div class="pl-3">
            <BlockOpinion opinion="V·∫•n ƒë·ªÅ: Sai s·ªë l√†m tr√≤n üëé">
                <p>
                    Vi·ªác s·ª≠ d·ª•ng <span class="code">float</span> ho·∫∑c <span class="code">double</span> cho c√°c ph√©p t√≠nh
                    t√†i ch√≠nh s·∫Ω d·∫´n ƒë·∫øn c√°c l·ªói l√†m tr√≤n kh√¥ng mong mu·ªën v√† sai l·ªách k·∫øt qu·∫£.
                </p><br />
                <p><strong>V√≠ d·ª• kinh ƒëi·ªÉn: T√≠nh to√°n v·ªõi ti·ªÅn t·ªá</strong></p>
                <CodeBlock :code="code_block.method1"></CodeBlock>
                <p>
                    K·∫øt qu·∫£ n√†y ho√†n to√†n sai. B·∫°n ƒë√°ng l·∫Ω ph·∫£i mua ƒë∆∞·ª£c 4 m√≥n h√†ng v√† c√≤n l·∫°i 0 ƒë·ªìng. L·ªói n√†y x·∫£y ra do
                    sai s·ªë t√≠ch l≈©y trong c√°c ph√©p t√≠nh v·ªõi <span class="code">double</span>.
                </p><br />
            </BlockOpinion>
        </div>
        <hr><br>
        <Heading1 title="Gi·∫£i ph√°p v√† Best Practices" />
        <p>ƒê·ªÉ c√≥ ƒë∆∞·ª£c c√¢u tr·∫£ l·ªùi ch√≠nh x√°c, b·∫°n c√≥ hai l·ª±a ch·ªçn ch√≠nh.</p><br />
        <div class="pl-3">
            <BlockOpinion opinion="1. S·ª≠ d·ª•ng BigDecimal (L·ª±a ch·ªçn t·ªët nh·∫•t) ‚úÖ">
                <p>
                    <span class="code">BigDecimal</span> ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát ƒë·ªÉ x·ª≠ l√Ω c√°c ph√©p t√≠nh th·∫≠p ph√¢n v·ªõi ƒë·ªô
                    ch√≠nh x√°c t√πy √Ω. M·∫∑c d√π n√≥ ch·∫≠m h∆°n, nh∆∞ng n√≥ cho k·∫øt qu·∫£ ch√≠nh x√°c tuy·ªát ƒë·ªëi.
                </p><br />
                <p>
                    <strong>Lu√¥n s·ª≠ d·ª•ng constructor <span class="code">BigDecimal(String)</span></strong>, kh√¥ng d√πng
                    <span class="code">BigDecimal(double)</span> ƒë·ªÉ tr√°nh ƒë∆∞a sai s·ªë l√†m tr√≤n v√†o ngay t·ª´ ƒë·∫ßu.
                </p><br />

                <p><strong>C√°ch l√†m t·ªët nh·∫•t:</strong></p>
                <CodeBlock :code="code_block.method2"></CodeBlock>
            </BlockOpinion>
            <BlockOpinion opinion="2. S·ª≠ d·ª•ng int ho·∫∑c long (Cho hi·ªáu nƒÉng)">
                <p>
                    N·∫øu hi·ªáu nƒÉng l√† y·∫øu t·ªë c·ª±c k·ª≥ quan tr·ªçng, b·∫°n c√≥ th·ªÉ th·ª±c hi·ªán t·∫•t c·∫£ c√°c ph√©p t√≠nh b·∫±ng <span
                        class="code">int</span> ho·∫∑c <span class="code">long</span> tr√™n ƒë∆°n v·ªã ti·ªÅn t·ªá nh·ªè nh·∫•t (v√≠ d·ª•:
                    xu, cent).
                </p><br />
                <p>
                    <strong>V√≠ d·ª•:</strong> Thay v√¨ <span class="code">1.03</span> ƒë√¥ la, b·∫°n s·∫Ω l√†m vi·ªác v·ªõi <span
                        class="code">103</span> cent. C√°ch n√†y nhanh h∆°n nh∆∞ng ƒë√≤i h·ªèi b·∫°n ph·∫£i t·ª± qu·∫£n l√Ω d·∫•u th·∫≠p ph√¢n
                    m·ªôt c√°ch c·∫©n th·∫≠n.
                </p><br />
            </BlockOpinion>
        </div>
        <p><strong>K·∫øt lu·∫≠n:</strong> Quy t·∫Øc r·∫•t ƒë∆°n gi·∫£n:</p>
        <ul class="list-disc pl-5 mt-3 space-y-1.5">
            <li>ƒê·ªëi v·ªõi <strong>b·∫•t k·ª≥ ph√©p t√≠nh n√†o li√™n quan ƒë·∫øn ti·ªÅn</strong>, h√£y <strong>lu√¥n s·ª≠ d·ª•ng <span
                        class="code">BigDecimal</span></strong>.</li>
            <li>ƒê·ªëi v·ªõi c√°c ph√©p t√≠nh khoa h·ªçc ho·∫∑c c√°c b√†i to√°n kh√¥ng y√™u c·∫ßu ƒë·ªô ch√≠nh x√°c tuy·ªát ƒë·ªëi, <span
                    class="code">double</span> l√† l·ª±a ch·ªçn ph√π h·ª£p.</li>
        </ul>
    </div>
</template>
<style scoped></style>