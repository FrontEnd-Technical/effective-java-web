<script setup lang="ts">
definePageMeta({
    layout: 'item-default',
    title: 'Item 69: Use exceptions only for exceptional conditions'
})

import { code_block } from '~/data/item69'

</script>

<template>
    <div class="main">
        <p>
            Nguy√™n t·∫Øc "Use exceptions only for exceptional conditions" (Ch·ªâ d√πng exception cho c√°c ƒëi·ªÅu ki·ªán ƒë·∫∑c bi·ªát)
            c√≥ nghƒ©a l√† b·∫°n <strong>kh√¥ng bao gi·ªù n√™n s·ª≠ d·ª•ng exception ƒë·ªÉ ki·ªÉm so√°t lu·ªìng (control flow) th√¥ng
                th∆∞·ªùng</strong> c·ªßa m·ªôt ch∆∞∆°ng tr√¨nh. Exception ch·ªâ n√™n ƒë∆∞·ª£c d√†nh ri√™ng cho c√°c <strong>t√¨nh hu·ªëng l·ªói
                th·ª±c s·ª±</strong>.
        </p><br />
        <p>
            Vi·ªác l·∫°m d·ª•ng exception cho control flow s·∫Ω l√†m cho m√£ ngu·ªìn tr·ªü n√™n <strong>kh√≥ hi·ªÉu, ch·∫≠m ch·∫°p v√† d·ªÖ g√¢y
                l·ªói</strong>.
        </p><br />
        <hr><br>
        <Heading1 title="T·ªïng quan v·ªÅ Nguy√™n t·∫Øc" />
        <p>
            Exception ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒëi·ªÅu ki·ªán ƒë·∫∑c bi·ªát (exceptional conditions). Ch√∫ng l√†m gi√°n ƒëo·∫°n lu·ªìng th·ª±c
            thi b√¨nh th∆∞·ªùng c·ªßa ch∆∞∆°ng tr√¨nh m·ªôt c√°ch ƒë·ªôt ng·ªôt.
        </p><br />
        <div class="pl-3">
            <BlockOpinion opinion="V·∫•n ƒë·ªÅ: L·∫°m d·ª•ng Exception cho Control Flow üëé">
                <p>
                    M·ªôt s·ªë l·∫≠p tr√¨nh vi√™n c√≥ th·ªÉ b·ªã c√°m d·ªó s·ª≠ d·ª•ng exception ƒë·ªÉ tho√°t kh·ªèi m·ªôt v√≤ng l·∫∑p ho·∫∑c ƒë·ªÉ b√°o hi·ªáu
                    m·ªôt tr·∫°ng th√°i b√¨nh th∆∞·ªùng n√†o ƒë√≥. ƒê√¢y l√† m·ªôt antipattern nghi√™m tr·ªçng.
                </p><br />
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li><strong>Hi·ªáu nƒÉng k√©m:</strong> Vi·ªác t·∫°o v√† n√©m m·ªôt exception l√† m·ªôt t√°c v·ª• <strong>c·ª±c k·ª≥ t·ªën
                            k√©m</strong> so v·ªõi c√°c c·∫•u tr√∫c ƒëi·ªÅu khi·ªÉn lu·ªìng th√¥ng th∆∞·ªùng nh∆∞ <span
                            class="code">if-else</span>.</li>
                    <li><strong>M√£ ngu·ªìn kh√≥ hi·ªÉu:</strong> V√≤ng l·∫∑p <span class="code">try-catch</span> l√†m che khu·∫•t
                        logic th·ª±c s·ª± c·ªßa ch∆∞∆°ng tr√¨nh.</li>
                </ul><br />
                <p><strong>V√≠ d·ª• kinh ƒëi·ªÉn v·ªÅ c√°ch l√†m sai (d√πng exception ƒë·ªÉ tho√°t v√≤ng l·∫∑p):</strong></p>
                <CodeBlock :code="code_block.method1"></CodeBlock>
            </BlockOpinion>
        </div>
        <hr><br>
        <Heading1 title="Gi·∫£i ph√°p v√† Best Practices" />
        <p>H√£y lu√¥n ∆∞u ti√™n c√°c c∆° ch·∫ø ki·ªÉm tra tr·∫°ng th√°i v√† control flow th√¥ng th∆∞·ªùng.</p>
        <div class="pl-3">
            <BlockOpinion opinion="S·ª≠ d·ª•ng c√°c Ph∆∞∆°ng ph√°p Ki·ªÉm tra Tr·∫°ng th√°i ‚úÖ">
                <p>H·∫ßu h·∫øt c√°c l·ªõp ƒë·ªÅu cung c·∫•p c√°c ph∆∞∆°ng th·ª©c ƒë·ªÉ ki·ªÉm tra tr·∫°ng th√°i tr∆∞·ªõc khi th·ª±c hi·ªán m·ªôt h√†nh
                    ƒë·ªông.</p>
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li>Thay v√¨ g·ªçi <span class="code">iterator.next()</span> v√† b·∫Øt <span
                            class="code">NoSuchElementException</span>, h√£y lu√¥n ki·ªÉm tra b·∫±ng <span
                            class="code">iterator.hasNext()</span> tr∆∞·ªõc.</li>
                    <li>Thay v√¨ truy c·∫≠p <span class="code">arr[i]</span> v√† b·∫Øt <span
                            class="code">ArrayIndexOutOfBoundsException</span>, h√£y lu√¥n ki·ªÉm tra <span class="code">i <
                                arr.length</span>.</li>
                </ul><br />

                <p><strong>C√°ch l√†m t·ªët nh·∫•t:</strong></p>
                <CodeBlock :code="code_block.method2"></CodeBlock>
            </BlockOpinion>
            <BlockOpinion opinion="Thi·∫øt k·∫ø API t·ªët">
                <p>Khi vi·∫øt API, ƒë·ª´ng bu·ªôc ng∆∞·ªùi d√πng ph·∫£i d√πng exception cho control flow. H√£y cung c·∫•p c√°c ph∆∞∆°ng th·ª©c
                    ki·ªÉm tra tr·∫°ng th√°i.</p>
                <ul class="list-disc pl-5 mt-3 space-y-1.5">
                    <li><strong>Cung c·∫•p ph∆∞∆°ng th·ª©c <span class="code">hasNext()</span>:</strong> N·∫øu b·∫°n t·∫°o m·ªôt l·ªõp
                        gi·ªëng <span class="code">Iterator</span>.</li>
                    <li><strong>Tr·∫£ v·ªÅ <span class="code">Optional</span> ho·∫∑c gi√° tr·ªã ƒë·∫∑c bi·ªát:</strong> N·∫øu m·ªôt ph∆∞∆°ng
                        th·ª©c c√≥ th·ªÉ kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£, h√£y tr·∫£ v·ªÅ <span class="code">Optional.empty()</span> (Item
                        55) ho·∫∑c m·ªôt gi√° tr·ªã ƒë·∫∑c bi·ªát nh∆∞ <span class="code">null</span> ho·∫∑c <span
                            class="code">false</span>.</li>
                </ul>
            </BlockOpinion>
        </div><br>
        <p>
            <strong>K·∫øt lu·∫≠n:</strong> H√£y coi exception nh∆∞ m·ªôt t√≠n hi·ªáu b√°o ƒë·ªông kh·∫©n c·∫•p. <strong>Ch·ªâ s·ª≠ d·ª•ng
                ch√∫ng cho c√°c ƒëi·ªÅu ki·ªán l·ªói th·ª±c s·ª±</strong>‚Äînh·ªØng t√¨nh hu·ªëng m√† ph∆∞∆°ng th·ª©c kh√¥ng th·ªÉ ho√†n th√†nh c√¥ng
            vi·ªác m√† n√≥ ƒë√£ cam k·∫øt. ƒê·ªëi v·ªõi c√°c lu·ªìng ƒëi·ªÅu khi·ªÉn th√¥ng th∆∞·ªùng v√† c√≥ th·ªÉ d·ª± ƒëo√°n ƒë∆∞·ª£c, h√£y lu√¥n s·ª≠ d·ª•ng
            c√°c ph∆∞∆°ng ph√°p ki·ªÉm tra tr·∫°ng th√°i, gi√° tr·ªã tr·∫£ v·ªÅ ƒë·∫∑c bi·ªát, ho·∫∑c <span class="code">Optional</span>.
        </p><br />
    </div>
</template>
<style scoped></style>